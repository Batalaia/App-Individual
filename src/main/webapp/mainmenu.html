<!DOCTYPE html>
<html>
    <head>
        <title>Main Menu</title>
    </head>
    <body>
        <h1>Welcome to my Individual APP!</h1>
        <script>
            const token = localStorage.getItem('token');
            console.log(token)
            fetch('/rest/tokenValidation', {
            headers: {
                'Authorization': `Bearer ${token}`
            }
            })
            .then(response => {
            if (response.ok) {
                console.log(response);
                document.getElementById('main-menu').style.display = 'block';
            } else {
                response.text().then(errorMessage => {
                    alert(`Error: ${errorMessage}`);
                });
                window.location.href = '/login.html';
            }
            })
            .catch(error => {
            console.error(error);
            });
        </script>
        <nav id="main-menu">
            <ul>
                <li><a href="/profile.html">Profile</a></li>
                <li><a href="/loginDetails.html">Login Details</a></li>
                <li><a href="/listUsers.html">List Other Users</a></li>
                <li><a href="/update.html">Update an account details</a></li>
                <li><a href="/uploadImage.html">Upload a foto</a></li>
                <li><a href="/delete.html">Delete a User</a></li>
                <li><a href="/logout.html">Logout</a></li>
            </ul>
        </nav>
    </body>
</html>
