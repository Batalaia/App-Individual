<!DOCTYPE html>
<html>
    <head>
        <title>Main Menu</title>
    </head>
    <body>
        <h1>Welcome to my Individual APP!</h1>
        <p>This page can only be accessed with a valid Login.</p>
        <script>
            const token = localStorage.getItem('token');
            console.log(token)
            fetch('/rest/tokenValidation', {
            headers: {
                'Authorization': `Bearer ${token}`
            }
            })
            .then(response => {
            if (response.ok) {
                console.log(response);
                document.getElementById('main-menu').style.display = 'block';
            } else {
                console.log(response);
                window.location.href = '/login.html';
            }
            })
            .catch(error => {
            console.error(error);
            });
        </script>
        <nav id="main-menu">
            <ul>
                <li><a href="#">Home</a></li>
                <li><a href="#">Profile</a></li>
                <li><a href="#">Logout</a></li>
            </ul>
        </nav>
    </body>
</html>
